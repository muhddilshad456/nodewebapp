<%- include("../../views/partials/admin/header") %>

<!-- Content -->
<div class="content">
  <div
    class="d-flex justify-content-between align-items-center mb-4"
    style="padding-top: 20px"
  >
    <h2>Coupons</h2>
    <div class="d-flex">
      <form action="/admin/coupons" method="get">
        <div class="input-group me-2" style="width: 300px">
          <input
            type="text"
            class="form-control"
            name="search"
            id="searchInput"
            placeholder="Search for Coupons"
            aria-label="Search"
          />
          <button class="btn btn-dark" type="submit">
            <i class="bi bi-search"></i>
          </button>
          <button class="btn btn-outline-secondary" type="button">
            <i class="bi bi-x-lg"></i>
          </button>
        </div>
      </form>
      <button
        class="btn btn-success"
        data-bs-toggle="modal"
        data-bs-target="#addCouponModal"
      >
        ADD COUPON <i class="bi bi-plus-lg"></i>
      </button>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-dark">
      <thead>
        <tr>
          <th scope="col">S.NO.</th>
          <th scope="col">Coupon</th>
          <th scope="col">Redeem</th>
          <th scope="col">min cart value</th>
          <th scope="col">min discount</th>
          <th scope="col">max discount</th>
          <th scope="col">Coupon Code</th>
          <th scope="col">Valid TILL</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>₹100 off on a purchase</td>
          <td>$100</td>
          <td>$1000</td>
          <td>$200</td>
          <td>$1000</td>
          <td>#6355</td>
          <td>01-01-2025</td>
          <td>
            <div class="d-flex">
              <button
                class="btn btn-secondary"
                data-bs-toggle="modal"
                data-bs-target="#editCouponModal"
              >
                EDIT
              </button>
              <button class="btn btn-danger">BLOCK</button>
            </div>
          </td>
        </tr>
        <tr>
          <td>2</td>
          <td>₹250 off on 500 above</td>
          <td>$250</td>
          <td>$1000</td>
          <td>$200</td>
          <td>$1000</td>
          <td>#7565</td>
          <td>31-12-2024</td>
          <td>
            <div class="d-flex">
              <button
                class="btn btn-secondary"
                data-bs-toggle="modal"
                data-bs-target="#editCouponModal"
              >
                EDIT
              </button>
              <button class="btn btn-danger">BLOCK</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="d-flex justify-content-between align-items-center mt-3">
    <span>Showing 1-2 of 2</span>
    <nav aria-label="Page navigation">
      <ul class="pagination">
        <li class="page-item active">
          <a class="page-link" href="?page=1">1</a>
        </li>
        <li class="page-item">
          <a class="page-link" href="?page=2">2</a>
        </li>
      </ul>
    </nav>
  </div>
</div>

<!-- Add Coupon Modal -->
<div
  class="modal fade"
  id="addCouponModal"
  tabindex="-1"
  aria-labelledby="addCouponModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addCouponModalLabel">Add Coupon</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form id="addCouponForm">
          <div class="mb-3">
            <label for="couponName" class="form-label">Coupon</label>
            <input
              type="text"
              class="form-control"
              name="coupon"
              id="couponName"
              placeholder="Enter coupon name (e.g., ₹100 off)"
            />
          </div>
          <div class="mb-3">
            <label for="redeemAmount" class="form-label">Redeem Amount</label>
            <input
              type="text"
              class="form-control"
              name="redeem"
              id="redeemAmount"
              placeholder="Enter redeem amount (e.g., $100)"
            />
          </div>
          <div class="mb-3">
            <label for="minCartValue" class="form-label">Min Cart Value</label>
            <input
              type="text"
              class="form-control"
              name="minCartValue"
              id="minCartValue"
              placeholder="Enter minimum cart value (e.g., $1000)"
            />
          </div>
          <div class="mb-3">
            <label for="minDiscount" class="form-label">Min Discount</label>
            <input
              type="text"
              class="form-control"
              name="minDiscount"
              id="minDiscount"
              placeholder="Enter minimum discount (e.g., $200)"
            />
          </div>
          <div class="mb-3">
            <label for="maxDiscount" class="form-label">Max Discount</label>
            <input
              type="text"
              class="form-control"
              name="maxDiscount"
              id="maxDiscount"
              placeholder="Enter maximum discount (e.g., $1000)"
            />
          </div>
          <div class="mb-3">
            <label for="couponCode" class="form-label">Coupon Code</label>
            <input
              type="text"
              class="form-control"
              name="couponCode"
              id="couponCode"
              placeholder="Enter coupon code (e.g., #6355)"
            />
          </div>
          <div class="mb-3">
            <label for="validTill" class="form-label">Valid Till</label>
            <input
              type="date"
              class="form-control"
              name="validTill"
              id="validTill"
            />
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Cancel
        </button>
        <button type="submit" class="btn btn-primary" form="addCouponForm">
          Add Coupon
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Edit Coupon Modal -->
<div
  class="modal fade"
  id="editCouponModal"
  tabindex="-1"
  aria-labelledby="editCouponModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editCouponModalLabel">Edit Coupon</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form id="editCouponForm">
          <input type="hidden" id="editCouponId" name="editId" />
          <div class="mb-3">
            <label for="editCouponName" class="form-label">Coupon</label>
            <input
              type="text"
              class="form-control"
              id="editCouponName"
              name="editCoupon"
            />
          </div>
          <div class="mb-3">
            <label for="editRedeemAmount" class="form-label"
              >Redeem Amount</label
            >
            <input
              type="text"
              class="form-control"
              id="editRedeemAmount"
              name="editRedeem"
            />
          </div>
          <div class="mb-3">
            <label for="editMinCartValue" class="form-label"
              >Min Cart Value</label
            >
            <input
              type="text"
              class="form-control"
              id="editMinCartValue"
              name="editMinCartValue"
            />
          </div>
          <div class="mb-3">
            <label for="editMinDiscount" class="form-label">Min Discount</label>
            <input
              type="text"
              class="form-control"
              id="editMinDiscount"
              name="editMinDiscount"
            />
          </div>
          <div class="mb-3">
            <label for="editMaxDiscount" class="form-label">Max Discount</label>
            <input
              type="text"
              class="form-control"
              id="editMaxDiscount"
              name="editMaxDiscount"
            />
          </div>
          <div class="mb-3">
            <label for="editCouponCode" class="form-label">Coupon Code</label>
            <input
              type="text"
              class="form-control"
              id="editCouponCode"
              name="editCouponCode"
            />
          </div>
          <div class="mb-3">
            <label for="editValidTill" class="form-label">Valid Till</label>
            <input
              type="date"
              class="form-control"
              id="editValidTill"
              name="editValidTill"
            />
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Cancel
        </button>
        <button type="submit" class="btn btn-primary" form="editCouponForm">
          Edit Coupon
        </button>
      </div>
    </div>
  </div>
</div>

<%- include("../../views/partials/admin/footer") %>
